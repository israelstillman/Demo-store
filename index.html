<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Demo Store</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-XXXXXXX'); // Replace with your GTM ID
  </script>
  <!-- End Google Tag Manager -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-XXXXXXX"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'YOUR_PIXEL_ID'); // Replace with your Meta Pixel ID
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"/></noscript>
  <!-- End Meta Pixel Code -->

  <div class="container py-5">
    <h1 class="text-center mb-5">Advanced Demo Store</h1>

    <!-- Newsletter Signup -->
    <div class="mb-5">
      <h4>Subscribe to our newsletter</h4>
      <form onsubmit="subscribe(event)">
        <input type="email" id="email" class="form-control w-50 d-inline-block" placeholder="Enter your email" required>
        <button class="btn btn-success">Subscribe</button>
      </form>
    </div>

    <!-- Product Listings -->
    <div class="row">
      <div class="col-md-4">
        <div class="card">
          <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="Product">
          <div class="card-body">
            <h5 class="card-title">Product 1</h5>
            <p class="card-text">$19.99</p>
            <button class="btn btn-info" onclick="viewProduct('Product 1')">View</button>
            <button class="btn btn-primary" onclick="addToCart('Product 1', 19.99)">Add to Cart</button>
            <button class="btn btn-warning" onclick="checkout('Product 1', 19.99)">Buy Now</button>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="Product">
          <div class="card-body">
            <h5 class="card-title">Product 2</h5>
            <p class="card-text">$29.99</p>
            <button class="btn btn-info" onclick="viewProduct('Product 2')">View</button>
            <button class="btn btn-primary" onclick="addToCart('Product 2', 29.99)">Add to Cart</button>
            <button class="btn btn-warning" onclick="checkout('Product 2', 29.99)">Buy Now</button>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="Product">
          <div class="card-body">
            <h5 class="card-title">Product 3</h5>
            <p class="card-text">$39.99</p>
            <button class="btn btn-info" onclick="viewProduct('Product 3')">View</button>
            <button class="btn btn-primary" onclick="addToCart('Product 3', 39.99)">Add to Cart</button>
            <button class="btn btn-warning" onclick="checkout('Product 3', 39.99)">Buy Now</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function viewProduct(product) {
      fbq('track', 'ViewContent', {
        content_name: product
      });
      dataLayer.push({
        event: 'view_content',
        product_name: product
      });
      alert(`Viewing ${product}`);
    }

    function addToCart(product, price) {
      fbq('track', 'AddToCart', {
        content_name: product,
        value: price,
        currency: 'USD'
      });
      dataLayer.push({
        event: 'add_to_cart',
        product_name: product,
        value: price,
        currency: 'USD'
      });
      alert(`${product} added to cart`);
    }

    function checkout(product, price) {
      fbq('track', 'InitiateCheckout', {
        content_name: product,
        value: price,
        currency: 'USD'
      });
      dataLayer.push({
        event: 'initiate_checkout',
        product_name: product,
        value: price,
        currency: 'USD'
      });
      alert(`Checking out: ${product}`);
    }

    function subscribe(event) {
      event.preventDefault();
      const email = document.getElementById('email').value;
      fbq('track', 'Lead', {email: email});
      dataLayer.push({event: 'lead', email: email});
      alert('Subscribed successfully!');
      document.getElementById('email').value = '';
    }
  </script>
</body>
</html>
